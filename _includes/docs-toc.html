<div class="docs__toc" id="docs-toc"></div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const toc = document.getElementById("docs-toc");
  const headers = document.querySelectorAll(".docs__article h2, .docs__article h3");
  if (!headers.length) return;

  const ul = document.createElement("ul");

  headers.forEach(h => {
    if (!h.id) h.id = h.textContent.toLowerCase().replace(/\s+/g, "-");
    const li = document.createElement("li");
    li.className = h.tagName === "H3" ? "toc-sub" : "";
    li.innerHTML = `<a href="#${h.id}">${h.textContent}</a>`;
    ul.appendChild(li);
  });

  toc.appendChild(ul);
});
</script>